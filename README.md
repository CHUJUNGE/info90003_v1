# INFO90003 Project - 犯罪现场还原系统

This repository contains the interactive crime scene reconstruction system project for INFO90003 course.

## 项目概览 (Project Overview)

这是一个交互式犯罪现场还原系统，通过先进的技术重现案件现场和关键证物，帮助警探解决案件。系统将引导用户通过多个阶段，从证物扫描到动作复现，最终揭示案件真相。

## 艺术风格 (Artistic Style)

- **整体风格**: 黑底蓝色线条科技风，尽量呈现裸眼3D效果
- **色彩方案**: 主要使用蓝色和红色灯效，根据不同场景和匹配度变化
- **视觉效果**: 高科技感，扫描动画，3D模型展示，流动光效

## 系统阶段 (System Stages)

### Stage 0: 待机画面

- **美术资源**: 无
- **音效**: 待机音效
- **灯效(主体)**: 待机蓝光常亮
- **灯效(手套)**: 待机蓝光常亮

### Stage 1: 登录欢迎界面

- **美术资源**: 无
- **音效**: 欢迎音效 + 人声欢迎（"身份已认证，欢迎警探使用案件还原系统"）
- **灯效(主体)**: 蓝光闪烁
- **灯效(手套)**: 蓝光闪烁
- **马达**: 震动一下

### Stage 2: 犯罪现场平面图及证物展示

- **美术资源**: 
  - 房间3D户型图 (three.js, 网上素材改编，Blender渲染)
  - 证物模型: 水杯、菜刀、破碎的手机、家庭监控破损版 (GLB格式)
  - 人物模型: 女主、男主、机器人
  - 扫描示意动画
- **音效**: 暂无
- **灯效(主体)**: 红光常亮
- **灯效(手套)**: 红光常亮

### Stage 3-1: 证物扫描 (水杯)

- **美术资源**: 水杯被扫描动画，女主形象展示动画
- **音效**: "水杯正在被扫描"语音，扫描音效，"检测到受害者生物痕迹"语音
- **灯效(主体)**: 红光流动（流水效果）
- **灯效(手套)**: 红光流动（类似加载转圈）
- **马达**: 扫描中震动

### Stage 4-1: 动作复现 (水杯)

- **美术资源**: 
  - 喝水动作示意（手持水杯，二头弯举姿势喝水）
  - 高匹配度结果视频: 清晰的女主喝水，面色痛苦，咳嗽，系统语音："体征异常"
  - 低匹配度动画视频: 模糊画面（剪辑加滤镜），女主喝水后站不稳
- **音效**: 倒计时滴滴声，匹配度展示音效，视频匹配音效
- **灯效(主体)**: 
  - 开始检测前: 蓝光长亮
  - 动作检测中: 蓝光流动
  - 高匹配度: 绿色常亮
  - 低匹配度: 绿色常亮
- **灯效(手套)**: 同主体灯效
- **马达**: 匹配开始震动一下，匹配结束震动一下

### Stage 3-2: 证物扫描 (菜刀)

- **美术资源**: 菜刀被扫描动画，检测到纤维残留，机器人管家形象展示动画（360度头部旋转）
- **音效**: "菜刀正在被扫描"语音，扫描音效，"检测到纤维残留"语音
- **灯效(主体)**: 红光流动（流水效果）
- **灯效(手套)**: 红光流动（类似加载转圈）
- **马达**: 扫描中震动

### Stage 4-2: 动作复现 (菜刀)

- **美术资源**: 
  - 砍人动作示意（正手持刀从右上角耳朵高度，小臂垂直于地面起始位，向左斜下方挥动至左胯骨结束）
  - 高匹配度结果视频: 女主歇斯底里挥刀，机器人防御姿态，机器人语音："避免过度武力，设为非致伤模式"
  - 低匹配度动画视频: 模糊抖动滤镜，画面抖动，只能看到混战，最后机器人挡刀结束
- **音效**: 倒计时滴滴声，匹配度展示音效，视频匹配音效
- **灯效**: 同Stage 4-1

### Stage 3-3: 证物扫描 (破碎手机)

- **美术资源**: 破碎手机被扫描动画，检测到通讯对象，男人形象展示动画（360度头部旋转）
- **音效**: "破碎手机正在被扫描"语音，扫描音效，"检测到通讯对象"语音
- **灯效(主体)**: 红光流动（流水效果）
- **灯效(手套)**: 红光流动（类似加载转圈）
- **马达**: 扫描中震动

### Stage 4-3: 动作复现 (破碎手机)

- **美术资源**: 
  - 摆手动作示意（左手拿着手机，右手左右摆动回收）
  - 高匹配度结果视频: 电话界面清晰，拨号为"丈夫"，电话未接通，机器人低声："外部通讯风险高"，机器人手伸向手机结束
  - 低匹配度动画视频: 电话界面模糊，女主声音断断续续："请...救..."，机器人扑来想要救女主，画面中断
- **音效**: 倒计时滴滴声，匹配度展示音效，视频匹配音效
- **灯效**: 同Stage 4-1

### Stage 3-4: 证物扫描 (损坏的家庭监控)

- **美术资源**: 损坏的家庭监控被扫描动画
- **音效**: "损坏的家庭监控正在被扫描"语音，扫描音效，"检测到现场影像"语音
- **灯效(主体)**: 红光流动（流水效果）
- **灯效(手套)**: 红光流动（类似加载转圈）
- **马达**: 扫描中震动

### Stage 4-4: 动作复现 (损坏的家庭监控)

- **美术资源**: 
  - 拍打动作示意（监控放在桌上，一掌拍下）
  - 高匹配度结果视频: 丈夫倒腾杯子，机器人迟疑进入，短暂停顿，机器人手盖住镜头
  - 低匹配度动画视频: 闪屏短路故障滤镜，播放断断续续，丈夫投毒动作卡顿，机器人进场模糊，看不清细节
- **音效**: 倒计时滴滴声，匹配度展示音效，视频匹配音效
- **灯效**: 同Stage 4-1

### Stage 5: 结案

- **美术资源**: 
  - 加载进度条
  - AI生成文字+图片，根据综合匹配度生成不同结局:
    - 高匹配度结局: 机器人抬头时脸部缓慢马赛克化，闪现丈夫面孔又迅速还原；正脸展示，播放语音"再...见...主...人..."声音由原机器人音色转为丈夫音色
    - 低匹配度结局: [待定]
- **音效**: 
  - "所有记忆收集完成，正在加载案情推理中"系统音
  - 视频对应音效
  - "案件还原完毕"系统音
  - "案件完美重构"系统音
- **最终提示**: "你认为谁是真正的凶手？请用便签投票"

## 技术栈 (Tech Stack)

- 3D建模与渲染: Three.js
- 前端开发: html+css+javascript
- 动画效果: MP4视频播放
- 声音系统: html5 audio
- 灯光控制: arduino
- 马达控制: arduino
PS D:\info90003_v1> .\\.venv\Scripts\activate
(.venv) PS D:\info90003_v1> cd 'd:\info90003_v1'
(.venv) PS D:\info90003_v1> python backend/main_server.py

状态得重置
## 项目结构 (Project Structure)

[项目结构将在开发过程中更新]

## 贡献者 (Contributors)

[添加项目贡献者]

## 许可证 (License)

[指定项目许可证]
